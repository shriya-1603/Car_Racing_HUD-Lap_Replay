<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Racing HUD + Lap Replay (CSS-Only v7)</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="topbar">
    <h1>Racing HUD + Lap Replay</h1>
    <p class="subtitle">Pure HTML + CSS · Motion Path · Flag Logic</p>
  </header>

  <main class="layout">

    <!-- HUD with GLOBAL STATE CONTROLS FIRST (so ~ selectors can affect all) -->
    <section class="card hud">

      <!-- SPEED (7 steps) -->
      <input class="state" type="radio" name="spd" id="spd-1" checked>
      <input class="state" type="radio" name="spd" id="spd-2">
      <input class="state" type="radio" name="spd" id="spd-3">
      <input class="state" type="radio" name="spd" id="spd-4">
      <input class="state" type="radio" name="spd" id="spd-5">
      <input class="state" type="radio" name="spd" id="spd-6">
      <input class="state" type="radio" name="spd" id="spd-7">

      <!-- FLAGS (default RED = stopped until Green) -->
      <input class="state" type="radio" name="flag" id="flag-green">
      <input class="state" type="radio" name="flag" id="flag-yellow">
      <input class="state" type="radio" name="flag" id="flag-red" checked>

      <!-- CAR TYPE -->
      <input class="state" type="radio" name="cartype" id="type-f1" checked>
      <input class="state" type="radio" name="cartype" id="type-road">

      <!-- F1 skins -->
      <input class="state" type="radio" name="skin-f1" id="skin-f1-1" checked>
      <input class="state" type="radio" name="skin-f1" id="skin-f1-2">
      <input class="state" type="radio" name="skin-f1" id="skin-f1-3">

      <!-- Road skins -->
      <input class="state" type="radio" name="skin-road" id="skin-road-1" checked>
      <input class="state" type="radio" name="skin-road" id="skin-road-2">
      <input class="state" type="radio" name="skin-road" id="skin-road-3">

      <!-- WEATHER, PIT, REPLAY -->
      <input class="state" type="checkbox" id="weather-rain">
      <input class="state" type="checkbox" id="replay">
      <input class="state" type="checkbox" id="pit">

      <!-- Overlays -->
      <div class="flag-banner">
        <span class="flag-text" aria-live="polite">FLAG</span>
      </div>
      <!-- <div class="rain-layer"></div>
      <div class="rain-layer rain-delayed"></div> -->

      <div class="hud-grid">
        <!-- TRACK (fixed 800x500 to match motion path coordinate system) -->
        <div class="track-wrap flag-bg">
          <svg class="track" viewBox="0 0 800 500" aria-hidden="true">
  <defs>
    <!-- asphalt shading -->
    <linearGradient id="asphalt" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#3d3f42"/>
      <stop offset="100%" stop-color="#232628"/>
    </linearGradient>

    <!-- checkerboard for start/finish -->
    <pattern id="checkers" x="0" y="0" width="8" height="8" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="8" height="8" fill="#f5f5f5"/>
      <rect x="0" y="0" width="4" height="4" fill="#0b0b0b"/>
      <rect x="4" y="4" width="4" height="4" fill="#0b0b0b"/>
    </pattern>
  </defs>

  <!-- === Track geometry (same as your motion path) === -->
  <!-- OUTER boundary (keep id="outer" so your car uses it) -->
  <path id="outer"
        d="M 120 250
          C 90 150, 260  58, 400  60
          C 540  60, 700 140, 690 250
          C 690 360, 560 440, 400 440
          C 260 440, 100 360, 117 250 Z" fill="none"/>

  <!-- INNER boundary -->
  <path id="inner"
        d="M 140 250
           C 140 140, 290 90, 400 90
           C 510 90, 660 140, 660 250
           C 660 360, 510 410, 400 410
           C 290 410, 140 360, 140 250 Z" fill="none"/>

  <!-- ROAD SURFACE: fill area between outer and inner -->
  <path d="M 120 250
           C 90 150, 260  58, 400  60
          C 540  60, 700 140, 690 250
          C 690 360, 560 440, 400 440
          C 260 440, 100 360, 117 250 Z
           M 140 250
           C 140 140, 290 90, 400 90
           C 510 90, 660 140, 660 250
           C 660 360, 510 410, 400 410
           C 290 410, 140 360, 140 250 Z"
        fill="url(#asphalt)" fill-rule="evenodd"/>

  <!-- ===== Red/White OUTLINES on BOTH sides ===== -->
  <!-- OUTER kerb (alternating red/white exactly on the edge) -->
  <use href="#outer" stroke="#c71f2d" stroke-width="2" fill="none"
       stroke-dasharray="30 20" stroke-linecap="butt" opacity="0.98"/>
  <use href="#outer" stroke="#ffffff" stroke-width="2" fill="none"
       stroke-dasharray="30 20" stroke-dashoffset="25" stroke-linecap="butt" opacity="0.98"/>

  <!-- INNER kerb (alternating red/white on inner edge) -->
  <use href="#inner" stroke="#c71f2d" stroke-width="2" fill="none"
       stroke-dasharray="30 20" stroke-linecap="butt" opacity="0.98"/>
  <use href="#inner" stroke="#ffffff" stroke-width="2" fill="none"
       stroke-dasharray="30 20" stroke-dashoffset="25" stroke-linecap="butt" opacity="0.98"/>

  <!-- ===== Center broken white line (mid-lane) ===== -->
  <path d="M 130 250
     C 115 145, 275  74, 400  75
     C 525  75, 680 140, 675 250
     C 675 360, 535 425, 400 425
     C 275 425, 120 360, 128.5 250 Z"
        fill="none" stroke="#ececec" stroke-width="2"
        stroke-dasharray="18 18" stroke-linecap="round" opacity="0.95"/>

  <!-- ===== Start/Finish: centered on bottom straight, spans road width only ===== -->
  <!-- inner bottom ~410, outer bottom ~440 -> height ~30; centered near x≈400 -->
  <rect x="394" y="410" width="12" height="30" fill="url(#checkers)"
        stroke="#000" stroke-opacity="0.25" stroke-width="0.6"/>

  <!-- PIT (kept as-is) -->
  <rect x="112" y="216" width="42" height="68" rx="8" fill="#2f3436" stroke="#777"/>
  <text x="98" y="212" font-size="12" fill="#dcdcdc">PIT</text>
</svg>


          <!-- Car & Ghost (motion path) -->
          <div class="car">
            <span class="body"></span>
            <span class="cockpit"></span>
            <span class="spoiler"></span>
            <span class="wheel w1"></span>
            <span class="wheel w2"></span>
            <span class="wheel w3"></span>
            <span class="wheel w4"></span>
            <span class="headlight"></span>
          </div>

          <!-- Pit panels -->
          <div class="pit-panels">
            <div class="panel">Tires: ✓</div>
            <div class="panel">Fuel: +6s</div>
            <div class="panel">Release…</div>
          </div>
        </div>

        <!-- CONTROLS (labels target the hidden inputs above) -->
        <div class="controls">
          <fieldset class="car-chooser">
            <legend>Car</legend>
            <div class="car-type">
              <label for="type-f1">F1 Car</label>
              <label for="type-road">Normal Car</label>
            </div>

            <!-- F1 thumbnails -->
            <div class="car-options f1">
              <label for="skin-f1-1" class="car-opt" title="F1 Orange"></label>
              <label for="skin-f1-2" class="car-opt" title="F1 Red"></label>
              <label for="skin-f1-3" class="car-opt" title="F1 Cyan"></label>
            </div>

            <!-- Road thumbnails -->
            <div class="car-options road">
              <label for="skin-road-1" class="car-opt" title="Sedan Yellow"></label>
              <label for="skin-road-2" class="car-opt" title="Sedan White"></label>
              <label for="skin-road-3" class="car-opt" title="Hatch Teal"></label>
            </div>
          </fieldset>

          <div class="speedo">
            <div class="dial">
              <div class="ticks"></div>
              <div class="needle"></div>
              <div class="cap"></div>
            </div>

            <!-- Speed bar -->
            <div class="speed-bar">
              <label for="spd-1" aria-label="Speed 1"></label>
              <label for="spd-2" aria-label="Speed 2"></label>
              <label for="spd-3" aria-label="Speed 3"></label>
              <label for="spd-4" aria-label="Speed 4"></label>
              <label for="spd-5" aria-label="Speed 5"></label>
              <label for="spd-6" aria-label="Speed 6"></label>
              <label for="spd-7" aria-label="Speed 7"></label>
              <div class="bar-bg"></div>
            </div>

            <!-- <div class="mini-stats">
              <div>Throttle: <span class="mono th-val">—</span></div>
              <div>Speed: <span class="mono spd-val">—</span></div>
            </div> -->
            <p class="hint">Green = go at bar speed · Yellow = mild slow · Red = stop.</p>
          </div>

          <div class="toggles">
            <fieldset>
              <legend>Race Flag</legend>
              <div class="flag-buttons">
                <label for="flag-green">Green</label>
                <label for="flag-yellow">Yellow</label>
                <label for="flag-red">Red</label>
              </div>
            </fieldset>

            <fieldset>
              <legend>Weather</legend>
              <label for="weather-rain" class="chk">Rain overlay</label>
            </fieldset>

            <fieldset>
              <legend>Lap Replay & Pit</legend>
              <!-- <label for="replay" class="chk">Replay last lap (ghost)</label> -->
              <label for="pit" class="chk">Pit stop sequence</label>
            </fieldset>
          </div>
        </div>
      </div>
    </section>

    <!-- Leaderboard / Splits -->
    <section class="card splits">
      <div class="split-header">
        <h3>Leaderboard & Split Times</h3>
        <label class="slide-toggle">
          <input type="checkbox" id="show-splits" checked>
          <span>Show</span>
        </label>
      </div>
      <div class="split-panel">
        <table>
          <thead>
            <tr>
              <th>Pos</th><th>Driver</th><th class="r">S1</th><th class="r">S2</th><th class="r">S3</th><th class="r">Total</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>#22 Kotala</td><td class="r">32.114</td><td class="r">28.774</td><td class="r">33.091</td><td class="r b">94. -</td></tr>
            <tr><td>2</td><td>#17 Kanugonda</td><td class="r">32.992</td><td class="r">29.112</td><td class="r">32.744</td><td class="r b">94. -</td></tr>
            <tr><td>3</td><td>#44 Norris</td><td class="r">31.701</td><td class="r">29.400</td><td class="r">33.560</td><td class="r b">94. -</td></tr>
            <tr><td>4</td><td>#16 Leclerc</td><td class="r">32.020</td><td class="r">28.990</td><td class="r">33.441</td><td class="r b">94. -</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer">
    © <span id="yr">2025</span> Team: Shriya Kotala (Leader), Sreenija Kanugonda
  </footer>
</body>
</html>
